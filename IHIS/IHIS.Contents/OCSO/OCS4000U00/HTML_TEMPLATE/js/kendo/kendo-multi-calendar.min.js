!function(){"use strict";function t(t,e){return t&&e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}var e=kendo.ui,n=e.Calendar,i={month:0,year:1,decade:2,century:3},a="change",l="k-state-selected",u=n.extend({options:{name:"MultiCalendar",values:[],maxSelectedItems:null},init:function(t,e){this._values=void 0!==e&&e.values?e.values:this.options.values,n.fn.init.call(this,t,e)},values:function(e){if(e&&this._canSelectItems(e.length)){var n=this._values.filter(function(n){return e.every(function(e){return!t(n,e)})}),i=null;this._values=e.filter(function(n,a){for(i=a-1;i>=0;i-=1)if(t(n,e[i]))return!1;return!0}),this._values.length&&(this._value=this._values[0]),this._updateSelection(this._values,n)}return this._values},value:function(e){var i=null,a=this._values.reduce(function(n,i,a){return t(i,e)?a:n},void 0),l=void 0===a,u=l&&this._canSelectItems(this._values.length+1);if(l&&!u||(i=n.fn.value.call(this,e)),e){var s=[];u?this._values.push(e):l||(s=this._values.splice(a,1)),this._updateSelection(this._values,s)}return i},navigate:function(t,e){n.fn.navigate.call(this,t,e),this._updateSelection(this._values)},navigateDown:function(t){var e=this,n=e._index,l=e.options.depth;if(t)return n===i[l]?(e.value(t),void e.trigger(a)):void e.navigate(t,--n)},_canSelectItems:function(t){var e=this.options.maxSelectedItems;return null===e||t<=e},_cellByDate:function(t){return this._table.find("td").filter(function(){return $(this.firstChild).attr(kendo.attr("value"))===t})},_updateSelection:function(t,e){t=t||[],e=e||[];var n=this;n._index===i[n.options.depth]&&(t.forEach(function(t){n._cellByDate(n.view().toDateString(t)).addClass(l)}),e.forEach(function(t){n._cellByDate(n.view().toDateString(t)).removeClass(l)}))}});e.plugin(u)}();